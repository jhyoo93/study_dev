# 브라우저 렌더링 과정
  
  📌 **브라우저 란?**  
  일상생활에서 인터넷을 통해 검색을 할 때 주로 네이버나 다음과 같은 사이트에 접속하여 필요한 정보를 검색한다  
  이 때 사이트에 접속할 수 있는 도구를 바로 **브라우저** 또는 **웹 브라우저** 라고 부른다.  

  브라우저는 제어판과 같이 컴퓨터에 설치되어 있는 하나의 프로그램으로, 이 프로그램을 다운받고 실행하게되면 주소창을 입력할 수 있는  도구가 나타나게 되는것이다.  

  📌 **렌더링 이란?**  
  서버로부터 HTML, CSS, JavaScript 등 작성한 파일을 받아 브라우저에 뿌려주는 과정이다, 즉 사용자가 볼 수 있는 화면으로 만드는  
  과정이라고 볼수있다.  
   
  ### ✔ 랜더링 순서  

  <img src="/study\assets\render-path.png" />    

  **HTML 파싱 → DOM 생성**  
  - HTML 파일이 브라우저에 전달되면, 브라우저는 이를 **파싱(Parsing)** 하여 **DOM(Document Object Model)** 트리를 생성한다.    

    ```HTML
        <!DOCTYPE html>
        <html>
        <body>
            <h1>Hello World</h1>
            <p>This is a paragraph.</p>
        </body>
        </html>
    ```  
    
    📌📌 **파싱(Parsing)**   
    브라우저가 코드를 이해하고 사용할 수 있는 구조로 변환하는 것을 의미한다.     
    
    📌📌 **DOM**    
    문서 객체 모델(Document Object Model) 은 HTML, XML 문서의 프로그래밍 interface 이며, DOM은 문서의 구조화된 표현을 제공하며  
    프로그래밍 언어가 DOM구조에 접근할 수 있는 방법을 제공하여 문서 구조, 스타일, 내용 등을 변경할 수 있게 돕는다.  
    
    HTML 문서를 브라우저가 이해할 수 있도록 트리자료 구조로 변환 한 것이다  

    ```HTML  
        Document  
        └── <html>  
            └── <body>  
                ├── <h1>  
                │    └── "Hello World"  
                └── <p>  
                    └── "This is a paragraph."  

    ```  

  ---  

  **CSS 파싱 → CSSOM 생성**    
  - HTML 안에 <style> 태그나 외부 CSS 파일이 연결되어 있으면, 브라우저는 이를 파싱하여 CSSOM(CSS Object Model) 트리를 생성한다.    

     ```CSS
        h1 {
            color: blue;
        }
        p {
        font-size: 16px;
        }
    ```  
    📌 **CSSOM**    
    CSS 규칙을 트리 형태로 나타낸 것이다   

    ```less  
        Stylesheet  
        ├── h1: color: blue  
        └── p: font-size: 16px  
    ```

  ---

  **DOM + CSSOM → 렌더 트리(Render Tree) 생성**  
    
  <img src="/study\assets\render-tree.png" />  
    
  - DOM트리와 CSSOM트리를 결합하여 렌더 트리를 생성한다.  
  - display: none처럼 화면에 표시되지 않는 요소는 렌더 트리에 포함되지 않는다  
  
    📌 **렌더 트리**    
    렌더 트리는 화면에 실제로 표시될 요소와 스타일을 결정한다  
  
    ```less  
        Render Tree  
        ├── h1: color: blue  
        └── p: font-size: 16px  
    ```  

  ---  

  **레이아웃(Layout)**    
  - 렌더 트리의 각 요소가 화면에서 어디에 배치될지 계산한다.  
  - 요소의 크기, 위치 등을 결정하는 단계로, 이를 **레이아웃 단계**라고 한다.  

  ---

  **페인트(Paint)** 
  - 각 요소를 화면에 그리기 위한 픽셀 데이터를 생성한다.  
  - 색상, 글꼴, 그림자, 이미지 등을 기반으로 화면에 그릴 준비를 한다.  

    📌📌 **픽셀데이터**  
    브라우저가 화면에 요소를 실제로 그리기 위해 생성하는 정보, 화면에 표시될 요소들의 색상, 모양, 텍스처 등을  
    픽셀 단위로 변환한 정보이다.     

  ---

  **합성 및 렌더링 (Compositing)**   
  - 사용자가 보는 최종 하면이 이 단계에서 만들어진다.  

  ---

  **✔ 랜더링 과정 요약**  

  1. HTML과 CSS 파싱 - DOM과 CSSOM 생성  
  2. 렌더 트리 생성 - DOM과 CSSOM을 결합  
  3. 레이아웃 - 요소의 위치와 크기 계산  
  4. 페인트 - 화면에 표시할 픽셀 정보 생성  
  5. 합성 및 렌더링 - 최종 화면 출력  

---

# 실행 컨텍스트(Execution Context)  
  실행 컨텍스트는 scope, hoisting, this, function, closure 등의 동작원리를 담고 있는 자바스크립트의 핵심원리 이며, 실행할 코드에   제공할 환경 정보들을 모아놓은 객체이다.    

  동일한 환경에 있는 코드들을 실행할 때 필요한 환경 정보들을 모아 객체를 구성하고, 이를 콜 스택에 쌓아올렸다가, 가장 위에 쌓여있는   컨텍스트와 관련 있는 코드들을 실행하는 식으로 전체 코드의 환경과 순서를 보장한다.  

  ```javascript
     
    var x = 'xxx';

    function foo () {
        var y = 'yyy';

        function bar () {
            var z = 'zzz';
            console.log(x + y + z);
        }
        bar();
    } 

    foo(); 

  ```   

  함수를 실행하면 처음 자바스크립트 코드를 실행하는 순간 **전역 컨텍스트가 콜스 택에 담긴다** 전역 컨텍스트는 코드 내부에서 별도의    실행 명령이 없어도 브라우저에서 자동으로 실행하므로 자바스크립트 파일이 열리는 순간 전역 컨텍스트가 활성화한다  

  콜 스택에서 전역 컨텍스트와 관련된 코드들을 순차적으로 진행하다가 foo함수를 호출하면 자바스크립트 엔진은 foo에 대한 환경 정보를   수집해서 foo실행 컨텍스트를 생성한 후 콜스택에 담는다 그러면 콜 스택의 맨 위에 foo 실행 컨텍스트가 놓였으므로 전역 컨텍스트와   관련된 코드의 실행을 중지하고 foo 실행 컨텍스트와 관련된 코드, 즉 foo 함수 내부의 코드들을 순차로 실행한다.  

  그후 bar함수의 실행 컨텍스트가 스택의 가장 위에 담기면 foo실행 컨텍스트와 관련된 코드의 실행을 중단하고 bar 함수 내부의 코드를 순서대로 진행한다 코드가 모두 진행되고 bar 함수의 실행이 종료되면 bar 실행 컨텍스트가 콜 스택에서 제거되고, 그러면 foo 실행 컨텍스트가 콜 스택의 맨 위에 존재하게 되므로 중단했던 부분부터 이어서 실행하게 된다.

  <img src="/study\assets\execution-context.png" /> 



